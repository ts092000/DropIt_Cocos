{"version":3,"sources":["file:///Users/ADMIN/Desktop/drop-it/assets/Script/EntryController.ts"],"names":["_decorator","Button","Component","director","Node","GameCenterController","Constants","Progress","ccclass","property","EntryController","type","tooltip","onLoad","buttonStart","node","active","loadingNode","on","EventType","CLICK","loadScene","SCENE_NAME","BEGIN","start","progress","toValue","setTimeout","preloadScene","GAME"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;;AACzCC,MAAAA,oB,iBAAAA,oB;;AACFC,MAAAA,S;;AACEC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;iCAGjBU,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ;AAAA;AAAA,uD,UAGRA,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,gCADE;AAENC,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEP,IADA;AAENQ,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEV,MADA;AAENW,QAAAA,OAAO,EAAE;AAFH,OAAD,C,2BAjBb,MACaF,eADb,SACqCR,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAsBjCW,QAAAA,MAAM,GAAS;AACrB,eAAKC,WAAL,CAAiBC,IAAjB,CAAsBC,MAAtB,GAA+B,KAA/B;AACA,eAAKC,WAAL,CAAiBD,MAAjB,GAA0B,IAA1B;AAEA,eAAKF,WAAL,CAAiBC,IAAjB,CAAsBG,EAAtB,CAAyBjB,MAAM,CAACkB,SAAP,CAAiBC,KAA1C,EAAiD,MAAMjB,QAAQ,CAACkB,SAAT,CAAmB;AAAA;AAAA,sCAAUC,UAAV,CAAqBC,KAAxC,CAAvD;AACH;;AAESC,QAAAA,KAAK,GAAS;AACpB,eAAKC,QAAL,CAAcC,OAAd,CAAsB,2BAAtB,EAAmD,GAAnD;AAEA,eAAKD,QAAL,CAAcC,OAAd,CAAsB,0BAAtB,EAAkD,GAAlD;AAEAC,UAAAA,UAAU,CAAC,MAAM;AACb,iBAAKF,QAAL,CAAcC,OAAd,CAAsB,iBAAtB,EAAyC,CAAzC;AACAvB,YAAAA,QAAQ,CAACyB,YAAT,CAAsB;AAAA;AAAA,wCAAUN,UAAV,CAAqBC,KAA3C,EAAkD,MAAM;AACpDpB,cAAAA,QAAQ,CAACyB,YAAT,CAAsB;AAAA;AAAA,0CAAUN,UAAV,CAAqBO,IAA3C,EAAiD,MAAM;AACnD,qBAAKJ,QAAL,CAAcC,OAAd,CAAsB,iBAAtB,EAAyC,CAAzC;AACA,qBAAKZ,WAAL,CAAiBC,IAAjB,CAAsBC,MAAtB,GAA+B,IAA/B;AACA,qBAAKC,WAAL,CAAiBD,MAAjB,GAA0B,KAA1B;AACH,eAJD;AAKH,aAND;AAOH,WATS,EASP,GATO,CAAV,CALoB,CAepB;AACA;AACH;;AA9C0C,O","sourcesContent":["import { _decorator, Button, Component, director, Node } from 'cc';\r\nimport { GameCenterController } from './GameCenter/GameCenterController';\r\nimport Constants from './Utils/Constants';\r\nimport { Progress } from './Progress';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('EntryController')\r\nexport class EntryController extends Component {\r\n    @property(GameCenterController)\r\n    private gameCenter: GameCenterController;\r\n\r\n    @property({\r\n        type: Progress,\r\n        tooltip: 'Progress controller'\r\n    })\r\n    private progress: Progress;\r\n\r\n    @property({\r\n        type: Node,\r\n        tooltip: 'Loading node'\r\n    })\r\n    private loadingNode: Node;\r\n\r\n    @property({\r\n        type: Button,\r\n        tooltip: 'Button start'\r\n    })\r\n    private buttonStart: Button;\r\n\r\n    protected onLoad(): void {\r\n        this.buttonStart.node.active = false;\r\n        this.loadingNode.active = true;\r\n\r\n        this.buttonStart.node.on(Button.EventType.CLICK, () => director.loadScene(Constants.SCENE_NAME.BEGIN));\r\n    }\r\n\r\n    protected start(): void {\r\n        this.progress.toValue('Connecting to SA World...', 0.4);\r\n\r\n        this.progress.toValue('Connected succesfully...', 0.7);\r\n\r\n        setTimeout(() => {\r\n            this.progress.toValue('Loading game...', 1);\r\n            director.preloadScene(Constants.SCENE_NAME.BEGIN, () => {\r\n                director.preloadScene(Constants.SCENE_NAME.GAME, () => {\r\n                    this.progress.toValue('Loading game...', 1);\r\n                    this.buttonStart.node.active = true;\r\n                    this.loadingNode.active = false;\r\n                })\r\n            })\r\n        }, 300);\r\n        // this.gameCenter.initGameClient(() => {\r\n        // })\r\n    }\r\n}\r\n\r\n"]}